<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>

    <link rel="shortcut icon" href="#">
    <script src="Scripts/angular.min.js"></script>
    <script src="Scripts/angular-route.min.js"></script>
    <script src="Scripts/CustomeJS_1.js"></script>
    <script src="Scripts/Service1.js"></script>
</head>
<body ng-app="myModule">
    <div ng-controller="myController1" ng-init="Init()">
        <form name="frmRiskCategory" ng-submit="SaveRiskCategoryMaster(RiskCategoryMaster,frmRiskCategory)"
              novalidate>
            <div class="main-page-title title-icon relative">
                <!-- start page title-->
                <h4 class="header-title-sub">
                    <i class="icofont-earth icon-position"></i>
                    RiskCategory
                </h4>
                <!-- end page title-->
                <div class="clearfix">
                </div>
            </div>
            <div class="clearfix">
            </div>
            <div class="card-box">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                RiskCategory <span class="required-field">*</span>
                            </label>
                            <input class="form-control" id="txtRiskCategory" name="txtRiskCategory" ng-model="RiskCategoryMaster.RiskCategoryDescription"
                                   required tabindex="1" type="text" ng-focus="true" maxlength="200" placeholder="Enter RiskCategory">
                            <div class="clearfix">
                            </div>
                            <div class="badge badge-danger " data-ng-show="frmRiskCategory.txtRiskCategory.$dirty && frmRiskCategory.txtRiskCategory.$invalid">
                                <span data-ng-show="frmRiskCategory.txtRiskCategory.$error.required">RiskCategoryRequired</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row m-t-5">
                    <div class="col-md-12">
                        <div class="form-group">
                            <div class="form-control-static">
                                <span> RiskAttach Detail </span>
                                <table class="table table-bordered table-striped" border="1">
                                    <thead>
                                        <tr>
                                            <th class="colTraining">
                                                RiskAttach
                                            </th>
                                            <th class="colAction">
                                                Action
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody ng-switch="showHideAction.isEdit" ng-repeat="item in RiskCategoryMaster.RiskCategoryAttach"
                                           ng-init="showHideAction={isEdit:false};actionToEdit={};">
                                        <tr ng-switch-when="false" >
                                            <td class="colTrainingTitle" >
                                                {{item.RiskAttachDescription}}
                                            </td>
                                            <td>
                                                <table>
                                                    <tr ng-repeat="ExpectationItem in item.RAExpectationDetail">
                                                        <td>
                                                            {{ExpectationItem.ExpectatioonDetail}}
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td class="colAction">
                                                <button type="button" class="btn btn-icon btn-info btn-xs waves-effect waves-light m-r-5 btn-edit"
                                                        title="Edit" ng-click="EditRiskAttachDetails(item, actionToEdit, showHideAction);">
                                                    <i class="fa fa-edit"></i>Edit
                                                </button>
                                                <button type="button" class="btn btn-icon btn-danger btn-xs waves-effect waves-light m-r-5" title="Delete"
                                                        ng-click="DeleteRiskAttachDetails(item);">
                                                    <i class="fa fa-trash-o"></i>Delete
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-form="frmRiskAttachEdit" ng-switch-when="true">
                                            <td>
                                                <select name="ddlRisk" id="ddlRisk" class="form-control" ng-required="true" tabindex="2"
                                                        ng-model="actionToEdit.RiskId" ng-focus="true"
                                                        ng-options="e.RiskId as e.RiskAttachDescription for e in RiskList ">
                                                    <option value="">Select Risk</option>
                                                </select>
                                                <div class="badge badge-danger" data-ng-show="frmRiskAttachEdit.ddlRisk.$invalid && frmRiskAttachEdit.ddlRisk.$dirty">
                                                    <span data-ng-show="frmRiskAttachEdit.ddlRisk.$error">Select Risk</span>
                                                </div>
                                            </td>
                                            <td class="colAction">
                                                <button type="button" class="btn btn-icon btn-success btn-xs waves-effect waves-light m-r-5" title="Add"
                                                        ng-disabled="frmRiskAttachEdit.$invalid" ng-click="UpdateRiskAttachDetails(frmRiskAttachEdit,item,actionToEdit,showHideAction);">
                                                    <i class="fa fa-save"></i>
                                                </button>
                                                <button type="button" class="btn btn-icon btn-danger btn-xs waves-effect waves-light m-r-5" title="Cancel" ng-click="CancelEdit();showHideAction.isEdit=!showHideAction.isEdit;item.isEdit = false;">
                                                    <i class="fa fa-times"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tbody ng-if="!options.showRiskAttachDetails && RiskCategoryMaster.RiskCategoryAttach.length==0">
                                        <tr>
                                            <td colspan="7" align="center">
                                                NoRecordAvailable
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tr ng-form="frmRiskAttachAdd" ng-if="options.showRiskAttachDetails">
                                        <td rowspan="2">
                                            <select name="ddlRisk" id="ddlRisk" class="form-control" ng-required="true" tabindex="2"
                                                    ng-model="actionToAdd.RiskId" ng-focus="true" ng-selected="actionToAdd.RiskId == e.RiskId"
                                                    ng-options="e.RiskId as e.RiskAttachDescription for e in RiskList ">
                                                <option value="">Select Risk)</option>
                                            </select>
                                            <div class="badge badge-danger" data-ng-show="frmRiskAttachAdd.ddlRisk.$invalid && frmRiskAttachAdd.ddlRisk.$dirty">
                                                <span data-ng-show="frmRiskAttachAdd.ddlRisk.$error">Select Risk)</span>
                                            </div>
                                        </td>
                                        <td class="colTrainingTitle">
                                            <input class="form-control" type="text" ng-model="actionToAddRAExpectationDetail.ExpectatioonDetail" placeholder="Enter NeedsExpactationsORIssues)" />

                                            <button type="button" class="btn btn-primary waves-effect waves-light btn-xs pull-left m-t-5" title="Add"
                                                    ng-click="AddExpactationsDetails(frmRiskCategoryAdd, actionToAddRAExpectationDetail, options);">
                                                <i class="zmdi zmdi-add m-r-5"></i>AddExpectation
                                            </button>
                                        </td>
                                        <td class="colAction">
                                            <button type="button" class="btn btn-icon btn-success btn-xs waves-effect waves-light m-r-5" title="Add"
                                                    ng-disabled="frmRiskAttachAdd.$invalid"
                                                    ng-click="AddRiskAttachDetails(frmRiskAttachAdd, actionToAdd, options);">
                                                <i class="fa fa-save"></i>Save
                                            </button>
                                            <button type="button" class="btn btn-icon btn-danger btn-xs waves-effect waves-light m-r-5" title="Cancel"
                                                    ng-click="options.showRiskAttachDetails = !options.showRiskAttachDetails;CancelRiskAttachDetails(actionToAdd)">
                                                <i class="fa fa-times"></i>Cancle
                                            </button>
                                        </td>
                                    </tr>
                                </table>

                                <a class="btn btn-primary waves-effect waves-light btn-xs pull-right m-t-5" ng-disabled="options.showAddAction"
                                   ng-click="options.showRiskAttachDetails = !options.showRiskAttachDetails;setFocus();" tabindex="2">
                                    <i class="zmdi zmdi-accounts-add m-r-5"></i>Add RiskAttach++
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <!--IsActive -->
                        <div class="form-group">
                            <label>
                            </label>
                            <div class="form-control-static">
                                <div class="checkbox-custom checkbox-primary">
                                    <input type="checkbox" id="chkIsActive" name="chkIsActive" ng-model="RiskCategoryMaster.IsActive"
                                           ng-checked="RiskCategoryMaster.IsActive" tabindex="3" ng-disabled="!permission.CanWrite" />
                                    <label for="chkIsActive">
                                        IsActive
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8">
                        <button type="submit" class="btn btn-success waves-effect w-md waves-light m-b-5" tabindex="5"
                                ng-disabled="IsSavebtnDisable || frmRiskCategory.$invalid  || frmRiskAttachAdd.$invalid || frmRiskAttachEdit.$invalid || RiskCategoryMaster.RiskCategoryAttach.length == 0">
                            {{RiskCategoryMaster.RiskCategoryId > 0 ? 'Update' : 'Save'}}
                        </button>
                        <button type="button" ng-click="ClearFormData(frmRiskCategory)" tabindex="4" class="btn btn-info waves-effect w-md waves-light m-b-5">
                            Reset
                        </button>
                    </div>
                </div>

                <br />
                <div class="row align-items-center">
                    <div class="col-md-7">
                        <label class="table-title">
                            RiskCategory - RiskAttach Details
                        </label>
                    </div>
                    <div class="col-md-5">
                        <div class="input-group">
                            <input type="text" tabindex="104" ng-model="search" class="form-control" ng-change="isSearchClicked = false;" placeholder="Search RiskCategory - RiskAttach Details" />
                            <a href class="input-group-addon cursor-pointer" tabindex="105" ng-click="SearchRecords();">
                                <i class="fa fa-search"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <table>
                    hiii

                    <tbody  >
                        <tr ng-repeat="item in RiskCategoryMaster.RiskCategoryAttach">
                            <td class="colTrainingTitle">
                                {{item}}
                            </td>
                            <td>
                                <table>
                                    <tr ng-repeat="ExpectationItem in item.RAExpectationDetail">
                                        <td>
                                            {{ExpectationItem.ExpectatioonDetail}}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td class="colAction">
                                <button type="button" class="btn btn-icon btn-info btn-xs waves-effect waves-light m-r-5 btn-edit"
                                        title="Edit" ng-click="EditRiskAttachDetails(item, actionToEdit, showHideAction);">
                                    <i class="fa fa-edit"></i>Edit
                                </button>
                                <button type="button" class="btn btn-icon btn-danger btn-xs waves-effect waves-light m-r-5" title="Delete"
                                        ng-click="DeleteRiskAttachDetails(item);">
                                    <i class="fa fa-trash-o"></i>Delete
                                </button>
                            </td>
                        </tr>
                        <tr ng-form="frmRiskAttachEdit" ng-switch-when="true">
                            <td>
                                <select name="ddlRisk" id="ddlRisk" class="form-control" ng-required="true" tabindex="2"
                                        ng-model="actionToEdit.RiskId" ng-focus="true"
                                        ng-options="e.RiskId as e.RiskAttachDescription for e in RiskList ">
                                    <option value="">Select Risk</option>
                                </select>
                                <div class="badge badge-danger" data-ng-show="frmRiskAttachEdit.ddlRisk.$invalid && frmRiskAttachEdit.ddlRisk.$dirty">
                                    <span data-ng-show="frmRiskAttachEdit.ddlRisk.$error">Select Risk</span>
                                </div>
                            </td>
                            <td class="colAction">
                                <button type="button" class="btn btn-icon btn-success btn-xs waves-effect waves-light m-r-5" title="Add"
                                        ng-disabled="frmRiskAttachEdit.$invalid" ng-click="UpdateRiskAttachDetails(frmRiskAttachEdit,item,actionToEdit,showHideAction);">
                                    <i class="fa fa-save"></i>
                                </button>
                                <button type="button" class="btn btn-icon btn-danger btn-xs waves-effect waves-light m-r-5" title="Cancel" ng-click="CancelEdit();showHideAction.isEdit=!showHideAction.isEdit;item.isEdit = false;">
                                    <i class="fa fa-times"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!--<div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <div class="form-control-static">
                    <scrollable-table scroll-height="427">
                        <table ng-table="tableParams" id="datatable" class="table table-striped table-bordered table-hover">
                            <tr ng-repeat="h in $data">
                                <td data-title="'SrNo'" header-class="'colSrno'" ng-class="'colSrno text-right'">
                                    {{(tableParams.$params.page-1)*tableParams.$params.count+($index + 1)}}
                                </td>

                                <td data-title="'RiskCategory'" sortable="'RiskCategoryDescription'" header-class="'colGroupName'" ng-class="'colGroupName breakword overflow-ellipsis cursor-pointer'" angular-tooltip data-side="bottom" data-content="{{h.RiskCategoryDescription}}">
                                    {{h.RiskCategoryDescription}}
                                </td>
                                <td data-title="'RiskAttach'" sortable="'RiskAttachDescription'" header-class="'colGroupName'" ng-class="'colGroupName breakword overflow-ellipsis cursor-pointer'" angular-tooltip data-side="bottom" data-content=" {{h.RiskAttachDescription2[0].RiskAttachDescription}}}">
                                    {{h.RiskAttachDescription2[0].RiskAttachDescription}}
                                </td>
                                <td data-title="'Active'" sortable="'IsActive'" header-class="'colActive'" ng-class="'colActive text-center'">
                                    <input type="checkbox" class="js-switch" ui-switch options="switchOptions" ng-model="h.IsActive"
                                           ng-disabled="true" />
                                </td>
                                <td data-title="'Action'" header-class="'colAction'" ng-class="'colActive text-center'">
                                    <a href="javascript:void(0);" class="btn btn-icon btn-info btn-xs waves-effect waves-light m-r-5" title="Edit"
                                       ng-click="EditRiskCategoryConfiguration(h.RiskCategoryId)"><i class="fa fa-edit"></i></a>
                                </td>
                            </tr>
                            <tr ng-if="$data.length == 0">
                                <td colspan="5" class="no-record">
                                    <span no-record-found-for="searchedString"></span>
                                </td>
                            </tr>
                        </table>
                    </scrollable-table>
                </div>
            </div>
        </div>
    </div>-->

            </div>
        </form>
    </div>
</body>
</html>
